authRegister:
  post:
    tags:
      - Auth
    summary: Đăng ký
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../openapi.yml#/components/schemas/RegisterRequest"
    responses:
      "201":
        description: Tạo tài khoản thành công
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/AuthResponse"
      "400":
        description: Dữ liệu không hợp lệ
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"
      "409":
        description: Email đã tồn tại
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"

authLogin:
  post:
    tags:
      - Auth
    summary: Đăng nhập
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../openapi.yml#/components/schemas/LoginRequest"
    responses:
      "200":
        description: Đăng nhập thành công
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/AuthResponse"
      "400":
        description: Dữ liệu không hợp lệ
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"
      "401":
        description: Sai email hoặc mật khẩu
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"

authMe:
  get:
    tags:
      - Auth
    summary: Lấy thông tin user hiện tại
    security:
      - bearerAuth: []
    responses:
      "200":
        description: OK
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/MeResponse"
      "401":
        description: Chưa đăng nhập / token không hợp lệ
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"
      "404":
        description: Không tìm thấy người dùng
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"

authUpdateProfile:
  patch:
    tags:
      - Auth
    summary: Cập nhật hồ sơ
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: "../openapi.yml#/components/schemas/UpdateProfileRequest"
    responses:
      "200":
        description: Cập nhật thành công
        content:
          application/json:
            schema:
              type: object
              properties:
                user:
                  $ref: "../openapi.yml#/components/schemas/User"
      "400":
        description: Dữ liệu không hợp lệ
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"
      "401":
        description: Chưa đăng nhập / token không hợp lệ
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"
      "404":
        description: Không tìm thấy người dùng
        content:
          application/json:
            schema:
              $ref: "../openapi.yml#/components/schemas/ErrorResponse"
