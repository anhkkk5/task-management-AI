openapi: 3.0.3
info:
  title: Task Management AI API
  version: 1.0.0
servers:
  - url: http://localhost:3002
tags:
  - name: Auth
    description: Xác thực & tài khoản
  - name: User
    description: Hồ sơ người dùng
  - name: Task
    description: Quản lý công việc
paths:
  /auth/register:
    $ref: "./paths/auth.yml#/authRegister"
  /auth/send-otp:
    $ref: "./paths/auth.yml#/authSendOtp"
  /auth/resend-otp:
    $ref: "./paths/auth.yml#/authResendOtp"
  /auth/verify-otp:
    $ref: "./paths/auth.yml#/authVerifyOtp"
  /auth/login:
    $ref: "./paths/auth.yml#/authLogin"
  /auth/refresh-token:
    $ref: "./paths/auth.yml#/authRefreshToken"
  /auth/logout:
    $ref: "./paths/auth.yml#/authLogout"
  /auth/logout-all:
    $ref: "./paths/auth.yml#/authLogoutAll"
  /auth/me:
    $ref: "./paths/auth.yml#/authMe"
  /auth/update-profile:
    $ref: "./paths/auth.yml#/authUpdateProfile"
  /users/me:
    $ref: "./paths/user.yml#/userMe"
  /users/update-profile:
    $ref: "./paths/user.yml#/userUpdateProfile"
  /users/upload-avatar:
    $ref: "./paths/user.yml#/userUploadAvatar"
  /users/change-password:
    $ref: "./paths/user.yml#/userChangePassword"
  /users/{id}:
    $ref: "./paths/user.yml#/userGetById"
  /tasks:
    $ref: "./paths/task.yml#/tasks"
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    User:
      $ref: "./components/schemas/user.yml"
    RegisterRequest:
      $ref: "./components/schemas/auth.yml#/RegisterRequest"
    LoginRequest:
      $ref: "./components/schemas/auth.yml#/LoginRequest"
    UpdateProfileRequest:
      $ref: "./components/schemas/auth.yml#/UpdateProfileRequest"
    AuthResponse:
      $ref: "./components/schemas/auth.yml#/AuthResponse"
    RefreshTokenRequest:
      $ref: "./components/schemas/auth.yml#/RefreshTokenRequest"
    RefreshTokenResponse:
      $ref: "./components/schemas/auth.yml#/RefreshTokenResponse"
    LogoutResponse:
      $ref: "./components/schemas/auth.yml#/LogoutResponse"
    MeResponse:
      $ref: "./components/schemas/auth.yml#/MeResponse"
    ErrorResponse:
      $ref: "./components/schemas/common.yml#/ErrorResponse"
